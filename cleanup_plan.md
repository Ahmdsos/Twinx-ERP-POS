# Twinx ERP — Cleanup Plan

## Bucket A: Runtime Required (DO NOT TOUCH)

These files and folders are essential for the application to run:

| Path | Reason |
|---|---|
| `app/` | Core application code |
| `Modules/` | All 9 ERP modules |
| `artisan` | Laravel CLI entrypoint |
| `bootstrap/` | Laravel bootstrap |
| `config/` | All configuration files |
| `composer.json` | PHP dependency manifest |
| `composer.lock` | Locked dependency versions |
| `database/migrations/` | Database schema |
| `database/seeders/` | Data seeders |
| `database/factories/` | Model factories |
| `package.json` | Node dependency manifest |
| `vite.config.js` | Vite build config |
| `vite-module-loader.js` | Module asset loader |
| `modules_statuses.json` | Module enable/disable states |
| `public/index.php` | Web entrypoint |
| `public/.htaccess` | Apache rewrite rules |
| `public/build/` | Pre-built Vite assets (ship for offline) |
| `public/assets/` | Static assets |
| `public/css/` & `public/js/` | Legacy static assets |
| `public/images/` | Public images |
| `public/manual/` | User manual |
| `public/robots.txt` | SEO |
| `resources/` | Blade views, CSS/JS source |
| `routes/` | Route definitions |
| `storage/app/` | Uploaded files |
| `storage/framework/` | Cache, sessions, views (structure needed) |
| `.env.example` | Environment template (keep as SQLite ref) |
| `.editorconfig` | Code style |
| `.gitattributes`, `.gitignore` | Git config |
| `stubs/` | Module generation stubs |
| `Logo/` | Branding asset |

## Bucket B: Dev-Only (Exclude from Distribution)

| Path | Action | Reason |
|---|---|---|
| `vendor/` | INCLUDE in offline build only | Composer deps — auto-generated |
| `node_modules/` | EXCLUDE always | npm deps — regenerated by `npm install` |
| `tests/` | EXCLUDE from dist | PHPUnit tests |
| `phpunit.xml` | EXCLUDE from dist | Test config |
| `.phpunit.result.cache` | DELETE | Test cache |
| `.license.key` | EXCLUDE from dist | License key (user-specific) |
| `database/database.sqlite` | EXCLUDE from dist | Dev SQLite DB with real data |
| `database/nativephp.sqlite*` | DELETE | NativePHP desktop-only DB |
| `.git/` | EXCLUDE from dist | Version control history |
| `.agent/` | EXCLUDE from dist | AI agent workspace |

## Bucket C: Junk / Cache / Build Artifacts (SAFE TO DELETE)

### Root-Level Debug Scripts (22 files)
All ad-hoc one-off scripts that are NOT referenced by any route, command, or config:

| File | Size | Action |
|---|---|---|
| `audit_accounts.php` | 1.8 KB | DELETE |
| `check_columns.php` | 0.5 KB | DELETE |
| `check_db_balance.php` | 0.7 KB | DELETE |
| `check_truth.php` | 1.2 KB | DELETE |
| `check_user.php` | 0.6 KB | DELETE |
| `debug_stock.php` | 1.0 KB | DELETE |
| `dump_invoice.php` | 1.0 KB | DELETE |
| `recalc_verify.php` | 1.7 KB | DELETE |
| `test-system.php` | 7.6 KB | DELETE |
| `test_full_erp_cycle.php` | 10.0 KB | DELETE |
| `test_pos_e2e.php` | 7.6 KB | DELETE |
| `verify_integrity.php` | 1.4 KB | DELETE |
| `verify_inventory_write_path.php` | 5.1 KB | DELETE |
| `verify_phase3_fix.php` | 2.3 KB | DELETE |
| `verify_pos_hardening.php` | 4.1 KB | DELETE |
| `verify_precision.php` | 1.4 KB | DELETE |
| `verify_shift_lifecycle.php` | 1.6 KB | DELETE |
| `add_account_translations.cjs` | 5.2 KB | DELETE |
| `batch_fix_blade.cjs` | 4.1 KB | DELETE |
| `batch_fix_blade.js` | 4.3 KB | DELETE |
| `fix_theme_regressions.js` | 2.6 KB | DELETE |
| `update_translations.js` | varies | DELETE |

### Cache / Temp / Logs
| Path | Action |
|---|---|
| `storage/logs/laravel.log` (~10 MB) | DELETE (recreated automatically) |
| `storage/framework/cache/data/*` | DELETE contents |
| `storage/framework/views/*.php` | DELETE contents |
| `storage/framework/sessions/*` | DELETE contents |
| `storage/demo/` | DELETE (empty / demo data) |
| `reports/` | DELETE (empty directory) |
| `public/inventory_guide.html` (~115 KB) | EXCLUDE from dist (appears to be a one-off export) |

### NativePHP Desktop Artifacts
| Path | Action |
|---|---|
| `database/nativephp.sqlite` | DELETE |
| `database/nativephp.sqlite-shm` | DELETE |
| `database/nativephp.sqlite-wal` | DELETE |

## Packaging Exclude List (for `make_usb_package.bat`)

These paths will be excluded when building the distribution package:

```
.git/
.agent/
.gitignore
.gitattributes
.editorconfig
.phpunit.result.cache
.license.key
node_modules/
tests/
phpunit.xml
database/database.sqlite
database/nativephp.sqlite*
storage/logs/*.log
storage/framework/cache/data/*
storage/framework/views/*.php
storage/framework/sessions/*
storage/demo/
reports/
public/inventory_guide.html
# Root-level debug scripts (all *.php except artisan, all *.cjs, standalone *.js except vite*)
audit_accounts.php
check_columns.php
check_db_balance.php
check_truth.php
check_user.php
debug_stock.php
dump_invoice.php
recalc_verify.php
test-system.php
test_full_erp_cycle.php
test_pos_e2e.php
verify_integrity.php
verify_inventory_write_path.php
verify_phase3_fix.php
verify_pos_hardening.php
verify_precision.php
verify_shift_lifecycle.php
add_account_translations.cjs
batch_fix_blade.cjs
batch_fix_blade.js
fix_theme_regressions.js
update_translations.js
```

## Execution Strategy

1. **Phase 1**: Move Bucket C files to `_backup_before_cleanup/` (not delete)
2. **Phase 2**: For distribution builds, use the exclude list above
3. **Phase 3**: Only permanently delete after successful smoke test on MySQL
